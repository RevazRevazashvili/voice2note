(this.webpackJsonpstreamlit_webrtc=this.webpackJsonpstreamlit_webrtc||[]).push([[0],{99:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(54),o=n.n(a),c=n(31),d=n(77),s=n(144),u=n(72),l=n.n(u),v=n(2),f=function(e){var t=Object(c.useRenderData)().theme,n=JSON.stringify(t),i=r.a.useMemo((function(){var e=JSON.parse(n);if(null!=e){var t=l.a.scale([e.textColor,e.backgroundColor]).mode("lab");return Object(d.a)({palette:{primary:{main:e.primaryColor},background:{default:e.backgroundColor,paper:e.secondaryBackgroundColor},text:{primary:e.textColor,secondary:t(.1).hex(),disabled:t(.5).hex()}},typography:{fontFamily:e.font}})}}),[n]);return null==i?Object(v.jsx)(v.Fragment,{children:e.children}):Object(v.jsx)(s.a,{theme:i,children:e.children})},b=n(138),j=r.a.createContext(void 0),O=function(e){var t=Object(i.useContext)(j);return null==t?null:t[e]},p=function(e){var t=Object(c.useRenderData)().args.translations||{},n=t.start,r=t.stop,a=t.select_device,o=t.device_ask_permission,d=t.device_not_available,s=t.device_access_denied,u=t.media_api_not_available,l=Object(i.useMemo)((function(){return{start:n,stop:r,select_device:a,device_ask_permission:o,device_not_available:d,device_access_denied:s,media_api_not_available:u}}),[n,r,a,o,d,s,u]);return Object(v.jsx)(j.Provider,{value:l,children:e.children})},m=r.a.memo(p),h=n(8),g=n(145),I=n(141),S=n(9),E=n(35),D=n(143),A=n(132),x=n(1),y=n.n(x),R=n(6),C=n(25),T=n(140),_=n(142),w=n(148),P=n(98),N=n(131),L=function(e){var t=Object(P.a)(),n=Object(N.a)(t.breakpoints.down("sm"));return Object(i.useEffect)((function(){C.Streamlit.setFrameHeight()}),[n]),Object(v.jsx)(A.a,{direction:n?"column":"row",spacing:2,children:e.children})},k=n(5),V=n(11),G=Object(V.a)(g.a)((function(e){var t,n=e.theme;return t={position:"relative"},Object(k.a)(t,n.breakpoints.down("sm"),{width:"100%"}),Object(k.a)(t,"width",n.spacing(24)),Object(k.a)(t,"height",n.spacing(16)),Object(k.a)(t,"maxHeight",n.spacing(16)),Object(k.a)(t,"display","flex"),Object(k.a)(t,"justifyContent","center"),Object(k.a)(t,"alignItems","center"),t})),M=n(146),F=Object(V.a)(M.a)((function(e){return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",padding:e.theme.spacing(2),boxSizing:"border-box"}})),U=function(){return Object(v.jsx)(F,{children:O("media_api_not_available")||"Media API not available"})},Y=function(){return Object(v.jsx)(F,{children:O("device_ask_permission")||"Please allow the app to use your media devices"})},H=function(e){return Object(v.jsxs)(F,{children:[O("device_access_denied")||"Access denied"," (",e.error.message,")"]})},W=function(e){return Object(v.jsxs)(F,{children:[O("device_not_available")||"Device not available"," (",e.error.message,")"]})},J=n(73),B=n.n(J),K=Object(V.a)(M.a)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}),z=function(){return Object(v.jsx)(K,{children:Object(v.jsx)(B.a,{fontSize:"large"})})},$=r.a.memo(z),q=Object(V.a)(g.a,{shouldForwardProp:function(e){return"$transparent"!==e}})((function(e){var t=e.theme;return{margin:0,padding:0,position:"relative","&:before":{position:"absolute",content:'""',width:"100%",height:"100%",opacity:e.$transparent?0:1,backgroundColor:t.palette.background.default,transition:"opacity 0.3s"}}})),Q=function(e){var t=Object(i.useState)(!1),n=Object(h.a)(t,2),r=n[0],a=n[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){a(!0)}),e.time);return function(){return clearTimeout(t)}}),[e.time]),Object(v.jsx)(q,{$transparent:r,children:e.children})},X=Object(V.a)("video")({maxWidth:"100%",maxHeight:"100%"});function Z(e){e.getVideoTracks().forEach((function(e){return e.stop()})),e.getAudioTracks().forEach((function(e){return e.stop()}))}var ee=function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){if(null!=e.deviceId){var n=null,i=!1;return navigator.mediaDevices.getUserMedia({video:{deviceId:e.deviceId},audio:!1}).then((function(e){n=e,i?Z(n):t.current&&(t.current.srcObject=n)})),function(){i=!0,n&&Z(n)}}}),[e.deviceId]),Object(v.jsx)(X,{ref:t,autoPlay:!0,muted:!0})},te=r.a.memo(ee);function ne(e,t){var n=e.map((function(e){return e.deviceId}));return t&&n.includes(t)?t:n.length>0?n[0]:void 0}var ie=function(e,t){switch(t.type){case"SET_UNAVAILABLE":return{unavailable:!0,videoInputs:[],audioInputs:[],audioOutputs:[],selectedVideoInputDeviceId:void 0,selectedAudioInputDeviceId:void 0};case"UPDATE_DEVICES":var n=t.devices,i=n.filter((function(e){return"videoinput"===e.kind})),r=n.filter((function(e){return"audioinput"===e.kind})),a=n.filter((function(e){return"audiooutput"===e.kind})),o=ne(i,e.selectedVideoInputDeviceId),c=ne(r,e.selectedAudioInputDeviceId);return Object(S.a)(Object(S.a)({},e),{},{videoInputs:i,audioInputs:r,audioOutputs:a,selectedVideoInputDeviceId:o,selectedAudioInputDeviceId:c});case"UPDATE_SELECTED_DEVICE_ID":return Object(S.a)(Object(S.a)({},e),t.payload)}},re=function(e){var t=e.video,n=e.audio,r=e.defaultVideoDeviceId,a=e.defaultAudioDeviceId,o=e.onSelect,c=Object(i.useState)("WAITING"),d=Object(h.a)(c,2),s=d[0],u=d[1],l=Object(i.useReducer)(ie,{unavailable:!1,videoInputs:[],audioInputs:[],audioOutputs:[],selectedVideoInputDeviceId:r,selectedAudioInputDeviceId:a}),f=Object(h.a)(l,2),b=f[0],j=b.unavailable,O=b.videoInputs,p=b.selectedVideoInputDeviceId,m=b.audioInputs,g=b.selectedAudioInputDeviceId,S=f[1],E=Object(i.useCallback)((function(){var e,t;if("function"===typeof(null===(e=navigator)||void 0===e||null===(t=e.mediaDevices)||void 0===t?void 0:t.enumerateDevices))return navigator.mediaDevices.enumerateDevices().then((function(e){S({type:"UPDATE_DEVICES",devices:e})}));S({type:"SET_UNAVAILABLE"})}),[]),D=Object(i.useRef)({video:r,audio:a});D.current={video:r,audio:a},Object(i.useEffect)((function(){var e,i;if("function"===typeof(null===(e=navigator)||void 0===e||null===(i=e.mediaDevices)||void 0===i?void 0:i.getUserMedia)){u("WAITING");var r=D.current,a=r.video,o=r.audio;navigator.mediaDevices.getUserMedia({video:t&&a?{deviceId:a}:t,audio:n&&o?{deviceId:o}:n}).then(function(){var e=Object(R.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(t),e.next=3,E();case 3:u("ALLOWED");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){u(e)}))}else S({type:"SET_UNAVAILABLE"})}),[t,n,E]),Object(i.useEffect)((function(){var e=function(){return E()};return navigator.mediaDevices.ondevicechange=e,function(){navigator.mediaDevices.ondevicechange===e&&(navigator.mediaDevices.ondevicechange=null)}}),[E]);var x=Object(i.useCallback)((function(e){S({type:"UPDATE_SELECTED_DEVICE_ID",payload:{selectedVideoInputDeviceId:e.target.value}})}),[]),P=Object(i.useCallback)((function(e){S({type:"UPDATE_SELECTED_DEVICE_ID",payload:{selectedAudioInputDeviceId:e.target.value}})}),[]);if(Object(i.useEffect)((function(){var e=t?O.find((function(e){return e.deviceId===p})):null,i=n?m.find((function(e){return e.deviceId===g})):null;o({video:null===e||void 0===e?void 0:e.deviceId,audio:null===i||void 0===i?void 0:i.deviceId})}),[t,n,o,O,m,p,g]),Object(i.useEffect)((function(){setTimeout((function(){return C.Streamlit.setFrameHeight()}))})),j)return Object(v.jsx)(U,{});if("WAITING"===s)return Object(v.jsx)(Q,{time:1e3,children:Object(v.jsx)(Y,{})});if(s instanceof Error){var N=s;return N instanceof DOMException&&("NotReadableError"===N.name||"NotFoundError"===N.name)?Object(v.jsx)(W,{error:N}):N instanceof DOMException&&"NotAllowedError"===N.name?Object(v.jsx)(H,{error:N}):Object(v.jsx)(F,{children:Object(v.jsxs)(I.a,{severity:"error",children:[N.name,": ",N.message]})})}return Object(v.jsxs)(L,{children:[Object(v.jsx)(G,{children:t&&p?Object(v.jsx)(te,{deviceId:p}):Object(v.jsx)($,{})}),Object(v.jsxs)(A.a,{spacing:2,justifyContent:"center",children:[t&&p&&Object(v.jsxs)(w.a,{fullWidth:!0,children:[Object(v.jsx)(_.a,{htmlFor:"device-select-video-input",children:"Video Input"}),Object(v.jsx)(T.a,{inputProps:{name:"video-input",id:"device-select-video-input"},value:p,onChange:x,children:O.map((function(e){return Object(v.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId)}))})]}),n&&g&&Object(v.jsxs)(w.a,{fullWidth:!0,children:[Object(v.jsx)(_.a,{htmlFor:"device-select-audio-input",children:"Audio Input"}),Object(v.jsx)(T.a,{inputProps:{name:"audio-input",id:"device-select-audio-input"},value:g,onChange:P,children:m.map((function(e){return Object(v.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId)}))})]})]})]})},ae=function(e){var t=e.onClose,n=Object(E.a)(e,["onClose"]);return Object(v.jsxs)(A.a,{spacing:2,children:[Object(v.jsx)(re,Object(S.a)({},n)),Object(v.jsx)(g.a,{children:Object(v.jsx)(D.a,{variant:"contained",color:"primary",onClick:t,children:"Done"})})]})},oe=function(e){Object(i.useEffect)((function(){C.Streamlit.setFrameHeight()}));var t=e.stream.getVideoTracks().length>0,n=Object(i.useCallback)((function(t){t&&(t.srcObject=e.stream)}),[e.stream]),r=Object(i.useCallback)((function(){return C.Streamlit.setFrameHeight()}),[]);if(t){var a,o,c,d,s,u,l,f,b,j,O,p,m,h,g,I,E={hidden:null===(a=e.userDefinedVideoAttrs)||void 0===a?void 0:a.hidden,style:null===(o=e.userDefinedVideoAttrs)||void 0===o?void 0:o.style,autoPlay:null===(c=e.userDefinedVideoAttrs)||void 0===c?void 0:c.autoPlay,controls:null===(d=e.userDefinedVideoAttrs)||void 0===d?void 0:d.controls,controlsList:null===(s=e.userDefinedVideoAttrs)||void 0===s?void 0:s.controlsList,crossOrigin:null===(u=e.userDefinedVideoAttrs)||void 0===u?void 0:u.crossOrigin,loop:null===(l=e.userDefinedVideoAttrs)||void 0===l?void 0:l.loop,mediaGroup:null===(f=e.userDefinedVideoAttrs)||void 0===f?void 0:f.mediaGroup,muted:null===(b=e.userDefinedVideoAttrs)||void 0===b?void 0:b.muted,playsInline:null===(j=e.userDefinedVideoAttrs)||void 0===j?void 0:j.playsInline,preload:null===(O=e.userDefinedVideoAttrs)||void 0===O?void 0:O.preload,height:null===(p=e.userDefinedVideoAttrs)||void 0===p?void 0:p.height,poster:null===(m=e.userDefinedVideoAttrs)||void 0===m?void 0:m.poster,width:null===(h=e.userDefinedVideoAttrs)||void 0===h?void 0:h.width,disablePictureInPicture:null===(g=e.userDefinedVideoAttrs)||void 0===g?void 0:g.disablePictureInPicture,disableRemotePlayback:null===(I=e.userDefinedVideoAttrs)||void 0===I?void 0:I.disableRemotePlayback};return Object(v.jsx)("video",Object(S.a)(Object(S.a)({},E),{},{ref:n,onCanPlay:r}))}var D,A,x,y,R,T,_,w,P,N,L,k={hidden:null===(D=e.userDefinedAudioAttrs)||void 0===D?void 0:D.hidden,style:null===(A=e.userDefinedAudioAttrs)||void 0===A?void 0:A.style,autoPlay:null===(x=e.userDefinedAudioAttrs)||void 0===x?void 0:x.autoPlay,controls:null===(y=e.userDefinedAudioAttrs)||void 0===y?void 0:y.controls,controlsList:null===(R=e.userDefinedAudioAttrs)||void 0===R?void 0:R.controlsList,crossOrigin:null===(T=e.userDefinedAudioAttrs)||void 0===T?void 0:T.crossOrigin,loop:null===(_=e.userDefinedAudioAttrs)||void 0===_?void 0:_.loop,mediaGroup:null===(w=e.userDefinedAudioAttrs)||void 0===w?void 0:w.mediaGroup,muted:null===(P=e.userDefinedAudioAttrs)||void 0===P?void 0:P.muted,playsInline:null===(N=e.userDefinedAudioAttrs)||void 0===N?void 0:N.playsInline,preload:null===(L=e.userDefinedAudioAttrs)||void 0===L?void 0:L.preload};return Object(v.jsx)("audio",Object(S.a)({ref:n},k))},ce=r.a.memo(oe),de=n(147),se=n(76),ue=n.n(se),le=Object(V.a)(M.a)((function(e){return{padding:e.theme.spacing(4),display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}})),ve=function(e){return Object(i.useEffect)((function(){C.Streamlit.setFrameHeight()})),Object(v.jsx)(le,{elevation:0,children:e.loading?Object(v.jsx)(de.a,{}):Object(v.jsx)(ue.a,{fontSize:"large"})})},fe=r.a.memo(ve),be=n(16);function je(e,t,n){var i=e||{};return t&&(!0===i.video?i.video={deviceId:t}:"object"!==typeof i.video&&null!=i.video||(i.video=Object(S.a)(Object(S.a)({},i.video),{},{deviceId:t}))),n&&(!0===i.audio?i.audio={deviceId:n}:"object"!==typeof i.audio&&null!=i.audio||(i.audio=Object(S.a)(Object(S.a)({},i.audio),{},{deviceId:n}))),i}var Oe={webRtcState:"STOPPED",sdpOffer:null,signallingTimedOut:!1,stream:null,error:null},pe=function(e){return function(t,n){var i=function(e,t){switch(t.type){case"SIGNALLING_START":return Object(S.a)(Object(S.a)({},e),{},{webRtcState:"SIGNALLING",stream:null,error:null,signallingTimedOut:!1});case"SIGNALLING_TIMEOUT":return Object(S.a)(Object(S.a)({},e),{},{signallingTimedOut:!0});case"SET_STREAM":return Object(S.a)(Object(S.a)({},e),{},{stream:t.stream});case"SET_OFFER":return Object(S.a)(Object(S.a)({},e),{},{sdpOffer:t.offer});case"STOPPING":return Object(S.a)(Object(S.a)({},e),{},{webRtcState:"STOPPING",sdpOffer:null});case"STOPPED":return Object(S.a)(Object(S.a)({},e),{},{webRtcState:"STOPPED",sdpOffer:null,stream:null});case"START_PLAYING":return Object(S.a)(Object(S.a)({},e),{},{webRtcState:"PLAYING",sdpOffer:null});case"PROCESS_ANSWER_ERROR":return Object(S.a)(Object(S.a)({},e),{},{error:t.error});case"ERROR":return Object(S.a)(Object(S.a)({},e),{},{webRtcState:"STOPPED",sdpOffer:null,error:t.error})}}(t,n),r="PLAYING"===i.webRtcState,a=r!==("PLAYING"===t.webRtcState),o=i.sdpOffer,c=t.sdpOffer;return(a||o!==c)&&(c&&console.log("Send SDP offer",c),e({playing:r,sdpOffer:o?o.toJSON():""})),i}},me=function(e){return"RECVONLY"===e||"SENDONLY"===e||"SENDRECV"===e},he=function(e){return e.createOffer().then((function(t){return console.log("Created offer:",t),e.setLocalDescription(t)})).then((function(){return console.log("Wait for ICE gethering..."),new Promise((function(t){if("complete"===e.iceGatheringState)t();else{e.addEventListener("icegatheringstatechange",(function n(){"complete"===e.iceGatheringState&&(e.removeEventListener("icegatheringstatechange",n),t())}))}}))})).then((function(){return e.localDescription})).catch((function(e){throw console.error(e),e}))};function ge(e){return C.Streamlit.setComponentValue(e)}var Ie=function(e){var t=e.translationKey,n=e.defaultText,i=Object(E.a)(e,["translationKey","defaultText"]);return Object(v.jsx)(D.a,Object(S.a)(Object(S.a)({},i),{},{children:O(t)||n}))},Se=(n(101),function(e){var t,n=Object(i.useState)({video:void 0,audio:void 0}),r=Object(h.a)(n,2),a=r[0],o=r[1],c=function(e,t,n,r,a){Object(i.useEffect)((function(){return r({playing:!1,sdpOffer:""})}),[]);var o=Object(i.useRef)(),c=Object(i.useRef)(),d=Object(i.useMemo)((function(){return pe(r)}),[r]),s=Object(i.useReducer)(d,Oe),u=Object(h.a)(s,2),l=u[0],v=u[1],f=Object(i.useCallback)((function(){var e=function(){var e=Object(R.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STOPPING"!==l.webRtcState){e.next=2;break}return e.abrupt("return");case 2:if(t=c.current,c.current=void 0,v({type:"STOPPING"}),null!=t){e.next=7;break}return e.abrupt("return");case 7:return t.getTransceivers&&t.getTransceivers().forEach((function(e){e.stop&&e.stop()})),t.getSenders().forEach((function(e){var t;null===(t=e.track)||void 0===t||t.stop()})),e.abrupt("return",new Promise((function(e){setTimeout((function(){t.close(),e()}),500)})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return v({type:"ERROR",error:e})})).finally((function(){v({type:"STOPPED"})}))}),[l.webRtcState]),b=Object(i.useRef)(f);b.current=f;var j=Object(i.useCallback)((function(){if("STOPPED"===l.webRtcState){var i=function(){var i=Object(R.a)(y.a.mark((function i(){var r,d,s,u,l,f,j,O;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(v({type:"SIGNALLING_START"}),o.current=setTimeout((function(){v({type:"SIGNALLING_TIMEOUT"})}),3e3),r=e.mode,d=e.rtcConfiguration||{},console.log("RTCConfiguration:",d),s=new RTCPeerConnection(d),"SENDRECV"!==r&&"RECVONLY"!==r||s.addEventListener("track",(function(e){var t=e.streams[0];v({type:"SET_STREAM",stream:t})})),"SENDRECV"!==r&&"SENDONLY"!==r){i.next=24;break}if(u=je(e.mediaStreamConstraints,t,n),console.log("MediaStreamConstraints:",u),!u.audio&&!u.video){i.next=21;break}if(null!=navigator.mediaDevices){i.next=13;break}throw new Error("navigator.mediaDevices is undefined. It seems the current document is not loaded securely.");case 13:if(null!=navigator.mediaDevices.getUserMedia){i.next=15;break}throw new Error("getUserMedia is not implemented in this browser");case 15:return l={},i.next=18,navigator.mediaDevices.getUserMedia(u);case 18:(f=i.sent).getTracks().forEach((function(e){s.addTrack(e,f);var t=e.kind;if("video"===t||"audio"===t){var n=e.getSettings().deviceId;null!=n&&(l[t]=n)}})),Object.keys(l).length>0&&a(l);case 21:if("SENDONLY"===r){j=Object(be.a)(s.getTransceivers());try{for(j.s();!(O=j.n()).done;)O.value.direction="sendonly"}catch(p){j.e(p)}finally{j.f()}}i.next=25;break;case 24:"RECVONLY"===r&&(s.addTransceiver("video",{direction:"recvonly"}),s.addTransceiver("audio",{direction:"recvonly"}));case 25:return console.log("transceivers",s.getTransceivers()),s.addEventListener("iceconnectionstatechange",(function(){console.log("iceconnectionstatechange",s.iceConnectionState),"disconnected"!==s.iceConnectionState&&"failed"!==s.iceConnectionState&&"closed"!==s.iceConnectionState||b.current()})),c.current=s,i.next=30,he(s).then((function(e){if(null==e)throw new Error("Failed to create an offer SDP");v({type:"SET_OFFER",offer:e})}));case 30:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();i().catch((function(e){return v({type:"ERROR",error:e})}))}}),[n,t,e.mediaStreamConstraints,e.mode,e.rtcConfiguration,l.webRtcState,a]);return Object(i.useEffect)((function(){var t=c.current;if(null!=t){var n=e.sdpAnswerJson;if(null==t.remoteDescription&&n&&"SIGNALLING"===l.webRtcState){var i=JSON.parse(n);console.log("Receive answer sdpOffer",i),t.setRemoteDescription(i).then((function(){console.log("Remote description is set"),o.current&&clearTimeout(o.current),v({type:"START_PLAYING"})})).catch((function(e){v({type:"PROCESS_ANSWER_ERROR",error:e}),f()}))}}}),[e.sdpAnswerJson,l.webRtcState,f]),Object(i.useEffect)((function(){var t=e.desiredPlayingState;null!=t&&(!0===t&&"STOPPED"===l.webRtcState?j():!1!==t||"SIGNALLING"!==l.webRtcState&&"PLAYING"!==l.webRtcState||f())}),[e.desiredPlayingState,j,l.webRtcState,f]),{start:j,stop:f,state:l}}(e,a.video,a.audio,e.onComponentValueChange,o),d=c.state,s=c.start,u=c.stop,l=e.mode,f=e.disabled||"SIGNALLING"===d.webRtcState&&!d.signallingTimedOut||"STOPPING"===d.webRtcState||null!=e.desiredPlayingState,b=me(l)&&function(e){return"SENDRECV"===e||"RECVONLY"===e}(l),j=me(l)&&function(e){return"SENDRECV"===e||"SENDONLY"===e}(l),O={videoEnabled:!(t=e.mediaStreamConstraints)||!!t.video,audioEnabled:!t||!!t.audio},p=O.videoEnabled,m=O.audioEnabled,S=Object(i.useState)(!1),E=Object(h.a)(S,2),D=E[0],A=E[1],x=Object(i.useCallback)((function(){A(!0)}),[]),C=Object(i.useCallback)((function(){A(!1)}),[]);return D?Object(v.jsx)(ae,{video:p,audio:m,defaultVideoDeviceId:a.video,defaultAudioDeviceId:a.audio,onSelect:o,onClose:C}):Object(v.jsxs)(g.a,{children:[d.error&&Object(v.jsxs)(I.a,{severity:"error",children:[d.error.name,": ",d.error.message]}),Object(v.jsx)(g.a,{py:1,display:"flex",children:d.stream?Object(v.jsx)(ce,{stream:d.stream,userDefinedVideoAttrs:e.videoHtmlAttrs,userDefinedAudioAttrs:e.audioHtmlAttrs}):b&&Object(v.jsx)(fe,{loading:"SIGNALLING"===d.webRtcState})}),Object(v.jsxs)(g.a,{display:"flex",justifyContent:"space-between",children:["PLAYING"===d.webRtcState||"SIGNALLING"===d.webRtcState?Object(v.jsx)(Ie,{variant:"contained",onClick:u,disabled:f,translationKey:"stop",defaultText:"Stop"}):Object(v.jsx)(Ie,{variant:"contained",color:"primary",onClick:s,disabled:f,translationKey:"start",defaultText:"Start"}),j&&"STOPPED"===d.webRtcState&&Object(v.jsx)(Ie,{color:"inherit",onClick:x,translationKey:"select_device",defaultText:"Select Device"})]})]})}),Ee=function(){var e=Object(c.useRenderData)(),t=e.args.mode,n=e.args.desired_playing_state,i=e.args.sdp_answer_json,r=e.args.rtc_configuration,a=e.args.media_stream_constraints,o=e.args.video_html_attrs,d=e.args.audio_html_attrs;if(!me(t))throw new Error("Invalid mode ".concat(t));return Object(v.jsx)(Se,{disabled:e.disabled,mode:t,desiredPlayingState:n,sdpAnswerJson:i,rtcConfiguration:r,mediaStreamConstraints:a,videoHtmlAttrs:o,audioHtmlAttrs:d,onComponentValueChange:ge})};o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(c.StreamlitProvider,{children:Object(v.jsx)(m,{children:Object(v.jsxs)(f,{children:[Object(v.jsx)(b.a,{}),Object(v.jsx)(Ee,{})]})})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.5825e798.chunk.js.map